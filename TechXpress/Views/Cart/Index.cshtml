@model TechXpress.Domain.ViewModels.CartViewModel

<div class="container mx-auto mt-10 px-4">
    <h2 class="text-2xl font-semibold mb-6 text-gray-800">Shopping Cart</h2>

    @if (!Model.Items.Any())
    {
        <div class="bg-blue-100 text-blue-800 px-4 py-3 rounded-md">
            Your cart is empty.
        </div>
    }
    else
    {
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Cart Items -->
            <div class="lg:col-span-2">
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white shadow-md rounded-lg overflow-hidden">
                        <thead class="bg-gray-100 text-left text-gray-600 uppercase text-sm font-semibold">
                            <tr>
                                <th class="px-6 py-3">Product</th>
                                <th class="px-6 py-3">Price</th>
                                <th class="px-6 py-3">Quantity</th>
                                <th class="px-6 py-3">Total</th>
                                <th class="px-6 py-3"></th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200 text-gray-700">
                            @foreach (var item in Model.Items)
                            {
                                <tr>
                                    <td class="px-6 py-4 flex items-center space-x-3">
                                        <img src="/images/products/@item.ImageUrl" alt="@item.Name" class="w-12 h-12 object-cover rounded-md border border-gray-300" />
                                        <span>@item.Name</span>
                                    </td>
                                    <td class="px-6 py-4">$@item.Price</td>
                                    <td class="px-6 py-4">
                                        <form asp-action="UpdateQuantity" method="post" class="flex items-center">
                                            <input type="hidden" name="productId" value="@item.ProductId" />
                                            <input type="number" name="quantity" value="@item.Quantity" min="1"
                                                   class="w-20 border border-gray-300 rounded px-2 py-1" />
                                        </form>
                                    </td>
                                    <td class="px-6 py-4">$@item.Total</td>
                                    <td class="px-6 py-4 text-right">
                                        <form asp-action="RemoveFromCart" method="post">
                                            <input type="hidden" name="productId" value="@item.ProductId" />
                                            <button type="submit"
                                                    class="bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 transition duration-300">
                                                <i class="fas fa-trash-alt"></i>
                                            </button>
                                        </form>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Cart Summary -->
            <div>
                <div class="bg-white p-6 shadow-md rounded-lg">
                    <h5 class="text-xl font-semibold mb-4 text-gray-800">Cart Summary</h5>
                    <div class="flex justify-between mb-4">
                        <span class="text-gray-600">Total</span>
                        <span class="font-bold text-gray-900">$@Model.Total</span>
                    </div>
                    <a asp-controller="Checkout" asp-action="Index"
                       class="w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-300 block text-center mb-3">
                        Proceed to Checkout
                    </a>
                    <a asp-controller="Home" asp-action="Index"
                       class="w-full text-blue-600 hover:underline text-center block">
                        Continue Shopping
                    </a>
                </div>
            </div>
        </div>
    }
</div>
