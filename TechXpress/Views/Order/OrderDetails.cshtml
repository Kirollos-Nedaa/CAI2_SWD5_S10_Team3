@model OrderDetailsViewModel

@{
    ViewData["Title"] = "Order Details";
}

<div class="bg-white py-6 px-6 lg:px-20 text-sm text-gray-800">
    <!-- Header -->
    <div class="flex justify-between items-center mb-6">
        <a asp-controller="Order" asp-action="Index" class="flex items-center gap-2 text-sm font-semibold text-gray-700 cursor-pointer">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
            <span>Order Details</span>
        </a>
    </div>

    <!-- Product Section -->
    <div class="border-b pb-4 mb-6">
        <h2 class="text-lg font-semibold">Product <span class="text-gray-400">(@Model.Products.Count)</span></h2>
    </div>

    <!-- Table Header -->
    <div class="grid grid-cols-6 text-xs uppercase text-gray-500 border-b pb-2 font-medium">
        <div class="col-span-3">Products</div>
        <div class="col-span-1 text-center">Price</div>
        <div class="col-span-1 text-center">Quantity</div>
        <div class="col-span-1 text-center">Total</div>
    </div>

    @foreach (var product in Model.Products)
    {
        <div class="grid grid-cols-6 items-center py-4 border-b text-sm">
            <div class="col-span-3 flex items-center gap-4">
                <img src="@product.ImageUrl" class="w-14 h-14 object-cover rounded" />
                <div>
                    <div class="text-xs text-blue-600 font-semibold uppercase">@product.Category</div>
                    <div class="text-gray-800 font-medium line-clamp-2">@product.ProductName</div>
                </div>
            </div>
            <div class="col-span-1 text-center font-medium">@product.Price.ToString("C")</div>
            <div class="col-span-1 text-center">x@product.Quantity</div>
            <div class="col-span-1 text-center font-bold">@((product.Price * product.Quantity).ToString("C"))</div>
        </div>
    }


    <!-- Address Section -->
    <div class="mt-8 text-md">
        <h3 class="font-semibold mb-2">Shipping Address</h3>
        <p class="font-medium mb-2">@Model.ShippingAddress.Country</p>
        <p class="text-gray-500">@Model.ShippingAddress.City</p>
        <p class="my-2">Phone Number: <span class="text-gray-500">@Model.ShippingAddress.Apartment</span></p>
        <p>Email: <span class="text-gray-500">@Model.ShippingAddress.PostCode</span></p>
    </div>
</div>
